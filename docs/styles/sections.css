@layer onDesktop, onMobile;

@layer onDesktop {
	/* Sections */

	h2 {
		font-size: 2em;
		margin: 0;
	}



/* h2 */
h2.title {
	display: grid;
	grid-template-columns: 1fr 3em;
	/* min-width: 18.75em;
	max-width: 25em; */
	min-width: 300px;
	max-width: 400px;
}
h2.title svg {
	width: 100%;
	height: auto;
	order: -1;
	filter: invert(100%);
}
.rotate {
	writing-mode: vertical-lr;
	height: fit-content;
	width: fit-content;
	font-size: 1.7em;
}
.extra {
	font-size: 1.7rem;
	grid-column: 1/3;
}

	:root {
		--box-height: 50vh;
	}

	.info {
		height: 100%;
		width: 100%;
	}

	/* h2 */
	h2.title {
		display: grid;
		grid-template-columns: 1fr 1em;
	}

	h2.title svg {
		width: 100%;
		height: auto;
		order: -1;
		filter: invert(100%);
	}

	.rotate {
		writing-mode: vertical-lr;
		height: fit-content;
		width: fit-content;
	}

	.extra {
		font-size: 1.7rem;
		grid-column: 1/3;
	}

	.data-current-year {
		scroll-snap-align: start;
	}

	.data-current-year>section {
		/*    min-height: 80vh;*/
		min-height: var(--box-height);
		top: calc(100vh - var(--box-height));
		display: grid;
		grid-template-columns: 30vw 1fr 30vw;
	}

iframe {
	max-width: 13em;
	width: 100%;
	height: auto;
	aspect-ratio: 16/9;
	max-width: calc((40vh - 22px) * 16 / 9);
	border-radius: 0.4rem;
}
}


	.data-current-year>section>section {
		/* min-height: var(--box-height); */
		flex: 1;
		display: flex;
		flex-direction: column;
		padding: 1em;
		color: #fff;
		position: sticky;
		grid-gap: 1em;
	}

	.data-current-year>section {
		background-color: #25b175;
	}

	.bg-color {
		--theme-color: #ff0000;
		/* fill: var(--theme-color); */
		fill: color-mix(in srgb, var(--theme-color), white 30%);
	}

	.data-current-year .mc {
		display: flex;
		flex-direction: row;
		grid-gap: 1em;
	}

	.data-current-year .mc div {
		display: grid;
		grid-template-columns: 6em 6em;
		gap: .4em;
	}

	.data-current-year .mc>div>div {
		width: 4em;
		height: 4em;
		overflow: hidden;
		position: relative;
		border-radius: 0.4rem;
		transition: 200ms;
	}

	.data-current-year .mc>div:nth-of-type(2) {
		flex-direction: row;
	}

	.data-current-year .mc a {
		display: block;
		text-decoration: none;
		border-bottom: 1px dotted;
		color: white;
		transition: 200ms;
		width: fit-content;
		justify-content: space-around;
	}
	h2.title {
		grid-template-columns: 7.5em 1em;
	}
	
	h2.title svg {
		/* width: 50%; */
		height: auto;
		order: -1;
		grid-column: 1 / 3;
		transition: 200ms;
	}

	.data-current-year .mc p {
		grid-column: 1 / 3;
  }
	.rotate {
		writing-mode: vertical-lr;
		height: fit-content;
		width: fit-content;
		font-size: 2em;
	}

	.data-current-year .mc a:hover {
		background-color: rgba(255, 255, 255, 0.5);
		color: black;
	}

	.data-current-year .mc img {
		width: 8em;
		aspect-ratio: 1;
		transform-origin: center;
		position: absolute;
		transition: 200ms;
		left: -50%;
		top: -50%;
	}

	.mc a:hover+div img {
		left: 0;
		top: 0;
		width: 6em;
		transition: 200ms;
	}

	.mc a:hover+div {
		width: 6em;
		height: 6em;
		transform: translateX(-1em);
		transition: 200ms;
	}

	p.color {
		position: absolute;
		right: 0;
		writing-mode: vertical-lr;
		font-size: 3em;
	}

	.data-current-year>section section:nth-of-type(3) {
		display: flex;
		justify-content: space-between;
	}

	.vid-section {
		margin-top: auto;
		display: flex;
		flex-direction: column;
	}

	.vid-section h4 {
		margin-bottom: 0.3rem;
	}

	.video {
		width: 100%;
		height: auto;
	}

	iframe {
		max-width: 20em;
		width: 100%;
		height: auto;
		aspect-ratio: 16/9;
		max-width: calc((40vh - 22px) * 16 / 9);
		border-radius: 0.4rem;
	}
}

@layer onMobile {
	@media screen and (max-width: 1024px) {
		.data-current-year>section {
			display: flex;
			flex-direction: column;
			top: calc(100vh - var(--box-height));
			height: fit-content;
		}

		.chart {
			height: calc(100vh - var(--box-height));
		}

		.data-current-year {
			scroll-margin-top: 0;
		}

		.data-current-year>section>section {
			/* max-height: 40vh; */
		}

		p.color {
			font-size: 4em;
		}

		.data-current-year>section {
			display: grid;
			grid-template-columns: 2fr 3fr;
		}

		.data-current-year>section section:nth-of-type(1) {
			display: flex;
			justify-content: center;
		}

		.data-current-year>section section:nth-of-type(3) {
			grid-area: 2 / 1 / 2 / 4;
			flex-direction: row;
			justify-content: space-around;
		}

		h2.title {
			grid-template-columns: 10em 1em;
		}

		h2.title svg {
			/* width: 50%; */
			height: auto;
			order: -1;
			filter: invert(100%);
		}

		iframe {
			width: 40vw;
		}

		.vid-section {
			height: fit-content;
			align-self: center;
		}
	}

	@media screen and (max-width:810px) {
		.data-current-year>section {
			display: flex;
			flex-direction: column;
		}

		.data-current-year>section section:nth-of-type(3) {
			flex-direction: column;
		}

		iframe {
			width: 65vw;
		}
	}
}